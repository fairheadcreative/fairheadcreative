//irregular shaped quote

.quote-block {
  position: relative;
}

//left and right irregular shapes: positioning

.quote-shaped {
  position: absolute;
  bottom: 0;
  padding: $base-spacing*3 $base-spacing*3 $base-spacing*4.5;
  width: 33em;
  
  &:after {
    content: "";
    background: url(../images/quotes.svg);
    background-size: contain;
    display: block;
    width: em(65);
    height: em(65);
    position: absolute;
    top: em(-35);
    left: em(45);
  }
  
  &.quote-shape-left:after {
    top: em(-65);
  }
    
  p {
    font-size: $base-font-size*1.85;
    line-height: 1.375;
    font-weight: bold;
    margin-bottom: .5em;
    z-index: 10;
    
    &:nth-last-child(2) {
      margin-bottom: 1em;
    }
  }

  cite {
    font-size: $base-font-size*1.7;
    font-style: normal;
    z-index: 10;
  }

  [class^="irregular-"] {
    position: absolute;
    display: block;
    z-index: 0;
  }
  
  .irregular-left,
  .irregular-right {
    height: 110%;
    width: em(55);
  }
  
  .irregular-top {
    height: em(60);
    left: em(-39);
    top: em(-20);
    width: calc(100% + 4em);
    transform: rotate(-2deg) skewX(3deg);
  }
  
  &.quote-shape-left .irregular-top {
    height: em(60);
    left: 0;
    top: em(-20);
    width: 100%;
    transform: rotate(2deg) skewX(-3deg);
  }
  
  .irregular-left {
    transform: rotate(-5deg) skewY(3deg);
    left: em(-20);
    top: em(-10);
  }
    
  &.quote-shape-left .irregular-left {
    transform: rotate(0deg) skewY(3deg);
    left: em(-10);
    top: em(-29);
  }
  
  .irregular-right {
    transform: rotate(6deg) skewY(-8.5deg);
    right: em(-30);
    top: em(-32);
  }
    
  &.quote-shape-left .irregular-right {
    transform: rotate(5deg) skewY(-2.5deg);
    right: em(-20);
    top: em(-11);
  }
}

$directions: left, right;

@each $direction in $directions {
  
  .quote-shape-#{$direction} {
    @extend .quote-shaped;
    #{$direction}: 0;
  }
}

//background colors

.quote-dark-blue {
  background: $dark-blue;
  color: $white;
  
  cite {
    color: $light-blue;
  }
  
  [class^="irregular-"] {
    background: $dark-blue;
  }
}

//regular blockquotes inside content

.text-blockquote {
  
  p {
    font-size: 1.15em;
  }
  
  img {
    width: em(50);
  }
}
